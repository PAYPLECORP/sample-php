<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
<title>Insert title here</title>
<style>
.loader {
  display: none;
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background: url('/img/spin.gif') 50% 40% no-repeat rgb(249,249,249);
  opacity: 0.8;
}

</style>
<script src="/js/jquery-3.2.1.min.js"></script>
<script>
$(document).ready( function () {
	
	var AuthFormReqAction = function () {

		var PCD_PAY_CARDNUM = $('#PCD_PAY_CARDNUM1').val() + '' + $('#PCD_PAY_CARDNUM2').val() + '' + $('#PCD_PAY_CARDNUM3').val() + '' + $('#PCD_PAY_CARDNUM4').val();
		
		var fm = $('#AuthForm')[0];
		var formData = new FormData(fm);

			formData.append('PCD_PAY_CARDNUM', PCD_PAY_CARDNUM);

		$.ajax({
			type : 'POST',
			cache : false,
			processData : false,
			contentType : false,
// 			async : false,
			url : '/cPayPayple/sample/payple_AuthCardRegSend.php',
			dataType : 'json',
			data : formData,
			success : function (data) {
// 				    console.log(data);
				    
				alert(data.PCD_PAY_MSG);
	
				var $_table = $("<table></table>");
				var table_data = "";
				
				$.each(data, function (key, value) {
					table_data += '<tr><td>'+key+'</td><td>: '+value+'</td><tr>';
				});
	
				$_table.append(table_data);
				
				$_table.appendTo('#authreq_result');
			
			},
			error : function (jqxhr, status, error) {
				console.log(jqxhr);
				
// 			    alert(jqxhr.statusText + ",  " + status + ",   " + error);
// 			    alert(jqxhr.status);
// 			    alert(jqxhr.responseText);
			
			},
			complete : function () {
				$('.loader').hide();
			}
		});

		
	};

	$('#AuthFormSubmit').on('click', function (event) {

		event.preventDefault();

		$(".loader").show();
		
		setTimeout(function () {
			AuthFormReqAction();
		}, 500);
		
	});

});
</script>
</head>
<body>
    <div id="loader" class="loader"></div>
	<form id="AuthForm" name="AuthForm">
	  <div>
	    <label for="PCD_PAYER_NO">회원 고유번호</label>
	    <input type="number" name="PCD_PAYER_NO" id="PCD_PAYER_NO" value="">
	  </div>
	  <div>
	  	<label for="PCD_PAYER_NAME">이름</label>
	    <input type="text" name="PCD_PAYER_NAME" id="PCD_PAYER_NAME" value="">
	  </div>
	  <div>
	    <label for="PCD_PAYER_HP">휴대폰번호</label>
	    <input type="number" name="PCD_PAYER_HP" id="PCD_PAYER_HP" value="">
	  </div>
	  <div>
	    <label for="PCD_PAYER_EMAIL">Email</label>
	    <input type="text" name="PCD_PAYER_EMAIL" id="PCD_PAYER_EMAIL" value="">
	  </div>
	  <div>
	    <label for="PCD_PAY_CARDNUM1">카드번호</label>
	    <input type="number" name="PCD_PAY_CARDNUM1" id="PCD_PAY_CARDNUM1" value="" size=5 maxlength=4>
	    -
	    <input type="number" name="PCD_PAY_CARDNUM2" id="PCD_PAY_CARDNUM2" value="" size=5 maxlength=4>
	    -
	    <input type="number" name="PCD_PAY_CARDNUM3" id="PCD_PAY_CARDNUM3" value="" size=5 maxlength=4>
	    -
	    <input type="number" name="PCD_PAY_CARDNUM4" id="PCD_PAY_CARDNUM4" value="" size=5 maxlength=4>
	  </div>
	  <div>
	  	<label for="PCD_PAY_CARDEXYEAR">카드유효기간</label>
	  	<input type="number" name="PCD_PAY_CARDEXMONTH" id="PCD_PAY_CARDEXMONTH" value="" size=4 maxlength=2 placehoder="MM">
	  	-
	  	<input type="number" name="PCD_PAY_CARDEXYEAR" id="PCD_PAY_CARDEXYEAR" value="" size=4 maxlength=2 placehoder="YY">
	  </div>
	  <div>
	  	<label for="PCD_PAY_CARDPW">비밀번호 앞 2자리</label>
	  	<input type="number" name="PCD_PAY_CARDPW" id="PCD_PAY_CARDPW" value="" size=3 maxlength=2>**
	  </div>
	  <div>
	  	<label for="PCD_PAYER_BIRTH">생년월일 6자리 또는 사업자번호 10자리(법인)</label>
	    <input type="number" name="PCD_PAYER_BIRTH" id="PCD_PAYER_BIRTH" value="" maxlength='10'>
	  </div>	  
	</form>
    <button id="AuthFormSubmit">인증등록 요청</button>

    <div id="authreq_result">
    </div>
</body>
</html>